(self.webpackChunk=self.webpackChunk||[]).push([[616,143],{8144:(t,e,n)=>{"use strict";n(4812),n(3734),n(3752),n(2272);var a=n(4609),i=(n(300),n(9127)),r=n.n(i),d=n(9755);window.LiveForm=r().LiveForm,window.Nette=r().Nette,document.addEventListener("DOMContentLoaded",a.default.initialize.bind(a.default)),document.addEventListener("DOMContentLoaded",(function(){window.Nette.init(),window.LiveForm.setOptions({controlErrorClass:"is-invalid",controlValidClass:"is-valid",messageErrorClass:"error invalid-feedback",messageTag:"span",showValid:!0,messageErrorPrefix:'&nbsp;<i class="fa fa-exclamation-circle" aria-hidden="true"></i>&nbsp;'}),d("*[clipboard-copy-target-id]").on("click",(function(){var t=d(this).attr("clipboard-copy-target-id");!function(t){if(!navigator.clipboard)return void function(t){var e=document.createElement("textarea");e.value=t,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+n)}catch(t){console.error("Fallback: Oops, unable to copy",t)}document.body.removeChild(e)}(t);navigator.clipboard.writeText(t).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(t){console.error("Async: Could not copy text: ",t)}))}(d("#"+t).text())})),d(".numberLineId").on("change",(function(){d(this).val().length>0&&d("input.synchronize_proformaInvoices").prop("checked",!1)})),d("input.synchronize_proformaInvoices").on("change",(function(){d(this).prop("checked")&&d(".numberLineId").val().length>0&&(alert("Zálohové doklady nelze využívat, pokud máte jinou, než výchozí číselnou řadu."),d(this).prop("checked",!1))}))}))},2425:(t,e,n)=>{"use strict";n(9826),n(3210),n(8144),n(595),n(9202),n(6567);var a=n(9755);document.addEventListener("DOMContentLoaded",(function(){function t(){a(window).width()<768?(a(".table-responsive-stack").each((function(t){a(this).find(".table-responsive-stack-thead").show(),a(this).find("thead").hide()})),a(".table-responsive-stack").addClass("table-is-responsive")):(a(".table-responsive-stack").each((function(t){a(this).find(".table-responsive-stack-thead").hide(),a(this).find("thead").show()})),a(".table-responsive-stack").removeClass("table-is-responsive"))}a(".table-responsive-stack").each((function(t){var e=a(this).attr("id");a(this).find("thead tr:nth-child(2) th").each((function(t){var n=a(this).text();a(this).find("a").length>0&&(n=a(this).find("a").first().text()),n=a.trim(n),console.log(n),n.length>0?a("#"+e+" td:nth-child("+(t+1)+")").prepend('<span class="table-responsive-stack-thead">'+n+":</span> "):a("#"+e+" td:nth-child("+(t+1)+")").prepend('<span class="table-responsive-stack-thead"></span> '),a(".table-responsive-stack-thead").hide()}))})),a(".table-responsive-stack").each((function(){var t=100/a(this).find("th").length+"%";a(this).find("th, td").css("flex-basis",t)})),t(),window.onresize=function(e){t()}}))},1223:(t,e,n)=>{var a=n(5112),i=n(30),r=n(3070),d=a("unscopables"),o=Array.prototype;null==o[d]&&r.f(o,d,{configurable:!0,value:i(null)}),t.exports=function(t){o[d][t]=!0}},2092:(t,e,n)=>{var a=n(9974),i=n(8361),r=n(7908),d=n(7466),o=n(5417),s=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,c=4==t,u=6==t,f=7==t,g=5==t||u;return function(p,h,v,m){for(var b,y,w=r(p),_=i(w),x=a(h,v,3),k=d(_.length),E=0,C=m||o,S=e?C(p,k):n||f?C(p,0):void 0;k>E;E++)if((g||E in _)&&(y=x(b=_[E],E,w),t))if(e)S[E]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:s.call(S,b)}else switch(t){case 4:return!1;case 7:s.call(S,b)}return u?-1:l||c?c:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},7475:(t,e,n)=>{var a=n(3157),i=n(4411),r=n(111),d=n(5112)("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,(i(e)&&(e===Array||a(e.prototype))||r(e)&&null===(e=e[d]))&&(e=void 0)),void 0===e?Array:e}},5417:(t,e,n)=>{var a=n(7475);t.exports=function(t,e){return new(a(t))(0===e?0:e)}},648:(t,e,n)=>{var a=n(1694),i=n(614),r=n(4326),d=n(5112)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=a?r:function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),d))?n:o?r(e):"Object"==(a=r(e))&&i(e.callee)?"Arguments":a}},9974:(t,e,n)=>{var a=n(9662);t.exports=function(t,e,n){if(a(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,a){return t.call(e,n,a)};case 3:return function(n,a,i){return t.call(e,n,a,i)}}return function(){return t.apply(e,arguments)}}},490:(t,e,n)=>{var a=n(5005);t.exports=a("document","documentElement")},3157:(t,e,n)=>{var a=n(4326);t.exports=Array.isArray||function(t){return"Array"==a(t)}},4411:(t,e,n)=>{var a=n(7293),i=n(614),r=n(648),d=n(5005),o=n(2788),s=[],l=d("Reflect","construct"),c=/^\s*(?:class|function)\b/,u=c.exec,f=!c.exec((function(){})),g=function(t){if(!i(t))return!1;try{return l(Object,s,t),!0}catch(t){return!1}};t.exports=!l||a((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?function(t){if(!i(t))return!1;switch(r(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return f||!!u.call(c,o(t))}:g},30:(t,e,n)=>{var a,i=n(9670),r=n(6048),d=n(748),o=n(3501),s=n(490),l=n(317),c=n(6200),u=c("IE_PROTO"),f=function(){},g=function(t){return"<script>"+t+"</"+"script>"},p=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},h=function(){try{a=new ActiveXObject("htmlfile")}catch(t){}var t,e;h="undefined"!=typeof document?document.domain&&a?p(a):((e=l("iframe")).style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F):p(a);for(var n=d.length;n--;)delete h.prototype[d[n]];return h()};o[u]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=i(t),n=new f,f.prototype=null,n[u]=t):n=h(),void 0===e?n:r(n,e)}},6048:(t,e,n)=>{var a=n(9781),i=n(3070),r=n(9670),d=n(1956);t.exports=a?Object.defineProperties:function(t,e){r(t);for(var n,a=d(e),o=a.length,s=0;o>s;)i.f(t,n=a[s++],e[n]);return t}},1956:(t,e,n)=>{var a=n(6324),i=n(748);t.exports=Object.keys||function(t){return a(t,i)}},6091:(t,e,n)=>{var a=n(6530).PROPER,i=n(7293),r=n(1361);t.exports=function(t){return i((function(){return!!r[t]()||"​᠎"!=="​᠎"[t]()||a&&r[t].name!==t}))}},3111:(t,e,n)=>{var a=n(4488),i=n(1340),r="["+n(1361)+"]",d=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),s=function(t){return function(e){var n=i(a(e));return 1&t&&(n=n.replace(d,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},1694:(t,e,n)=>{var a={};a[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(a)},1340:(t,e,n)=>{var a=n(648);t.exports=function(t){if("Symbol"===a(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},1361:t=>{t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9826:(t,e,n)=>{"use strict";var a=n(2109),i=n(2092).find,r=n(1223),d="find",o=!0;d in[]&&Array(1).find((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(d)},3210:(t,e,n)=>{"use strict";var a=n(2109),i=n(3111).trim;a({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return i(this)}})},6567:(t,e,n)=>{var a,i=n(4609).default,r=n(9755);a=void 0!==i?function(t){var e=t.type||"GET",n=t.data||null;i.makeRequest(e,t.url,n,{history:"replace"}).then(t.success).catch(t.error)}:function(t){r.nette.ajax(t)},document.addEventListener("DOMContentLoaded",(function(){var t=document.querySelector(".datagrid");if(null!==t)return a({type:"GET",url:t.getAttribute("data-refresh-state")})}))},9202:(t,e,n)=>{var a,i=n(4609).default,r=n(9755);if(void 0!==i){var d=function(){return i&&i.VERSION&&i.VERSION>=2},o=function(t){return d()?t.detail:t},s=function(t){return d()?t.detail.request:t.xhr};a=function(t,e){var n=e.init,a=e.success,r=e.before,l=e.complete,c=function(t,e){return this.name=e,this.initialize=function(t){n&&t.addEventListener("init",(function(t){n(o(t).defaultOptions)})),a&&t.addEventListener("success",(function(t){var e=d()?t.detail.payload:t.response;a(e,o(t).options)})),r&&t.addEventListener("before",(function(t){r(s(t),o(t).options)})),l&&t.addEventListener("complete",(function(t){l(s(t),o(t).options)}))},d()||this.initialize(t),this};d()?i.registerExtension(new c(null,t)):i.registerExtension(c,t)}}else r.nette&&(a=function(t,e){r.nette.ext(t,e)});a("ublaboo-spinners",{before:function(t,e){var n,a,i,d;if(e.nette){if(n=e.nette.el,i=r('<div class="ublaboo-spinner ublaboo-spinner-small"><i></i><i></i><i></i><i></i></div>'),n.is('.datagrid [name="group_action[submit]"]'))return n.after(i);if(n.is(".datagrid a")&&n.data("toggle-detail")){if(a=e.nette.el.attr("data-toggle-detail"),d=e.nette.el.attr("data-toggle-detail-grid-fullname"),!r(".item-detail-"+d+"-id-"+a).hasClass("loaded"))return n.addClass("ublaboo-spinner-icon")}else{if(n.is(".datagrid .col-pagination a"))return n.closest(".row-grid-bottom").find(".col-per-page").prepend(i);if(n.is(".datagrid .datagrid-per-page-submit"))return n.closest(".row-grid-bottom").find(".col-per-page").prepend(i);if(n.is(".datagrid .reset-filter"))return n.closest(".row-grid-bottom").find(".col-per-page").prepend(i)}}},complete:function(){return r(".ublaboo-spinner").remove(),r(".ublaboo-spinner-icon").removeClass("ublaboo-spinner-icon")}})},595:(t,e,n)=>{var a,i,r,d,o=n(4609).default,s=n(9755);if(void 0!==o){var l=function(){return o&&o.VERSION&&o.VERSION>=2},c=function(t){return l()?t.detail:t},u=function(t){return l()?t.detail.request:t.xhr};a=function(t,e){var n=e.init,a=e.success,i=e.before,r=e.complete,d=e.interaction,f=function(t,e){return this.name=e,this.initialize=function(t){n&&t.addEventListener("init",(function(t){n(c(t).defaultOptions)})),a&&t.addEventListener("success",(function(t){var e=l()?t.detail.payload:t.response;a(e,c(t).options)}));var e=t;l()&&(e=e.uiHandler),e.addEventListener("interaction",(function(t){l()?t.detail.options.nette={el:s(t.detail.element)}:t.options.nette={el:s(t.element)},d&&(d(c(t).options)||t.preventDefault())})),i&&t.addEventListener("before",(function(t){i(u(t),c(t).options)||t.preventDefault()})),r&&t.addEventListener("complete",(function(t){r(u(t),c(t).options)}))},l()||this.initialize(t),this};l()?o.registerExtension(new f(null,t)):o.registerExtension(f,t)},i=function(t){var e=t.type||"GET",n=t.data||null;o.makeRequest(e,t.url,n,{}).then(t.success).catch(t.error)},r=function(){o.load()},d=function(t){return o.uiHandler.submitForm(t.get(0))}}else{if(!s.nette)throw new Error("Include Naja.js or nette.ajax for datagrids to work!");a=function(t,e){s.nette.ext(t,e)},i=function(t){s.nette.ajax(t)},r=function(){s.nette.load()},d=function(t){return t.submit()}}var f,g,p,h,v,m=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};s(document).on("click","[data-datagrid-confirm]:not(.ajax)",(function(t){if(!confirm(s(t.target).closest("a").attr("data-datagrid-confirm")))return t.stopPropagation(),t.preventDefault()})),a("datagrid.confirm",void 0!==o?{interaction:function(t){var e;return!t.nette||!(e=t.nette.el.data("datagrid-confirm"))||confirm(e)}}:{before:function(t,e){var n;return!e.nette||!(n=e.nette.el.data("datagrid-confirm"))||confirm(n)}}),s(document).on("change","select[data-autosubmit-per-page]",(function(){var t;return 0===(t=s(this).parent().find("input[type=submit]")).length&&(t=s(this).parent().find("button[type=submit]")),t.click()})).on("change","select[data-autosubmit]",(function(){return d(s(this).closest("form").first())})).on("change","input[data-autosubmit][data-autosubmit-change]",(function(t){var e;return t.which||t.keyCode||0,clearTimeout(window.datagrid_autosubmit_timer),e=s(this),window.datagrid_autosubmit_timer=setTimeout((function(){return d(e.closest("form").first())}),200)})).on("keyup","input[data-autosubmit]",(function(t){var e,n;if(13===(n=t.which||t.keyCode||0)||!(n>=9&&n<=40||n>=112&&n<=123))return clearTimeout(window.datagrid_autosubmit_timer),e=s(this),window.datagrid_autosubmit_timer=setTimeout((function(){return d(e.closest("form").first())}),200)})).on("keydown",".datagrid-inline-edit input",(function(t){if(13===(t.which||t.keyCode||0))return t.stopPropagation(),t.preventDefault(),s(this).closest("tr").find('.col-action-inline-edit [name="inline_edit[submit]"]').click()})),s(document).on("keydown","input[data-datagrid-manualsubmit]",(function(t){if(13===(t.which||t.keyCode||0))return t.stopPropagation(),t.preventDefault(),d(s(this).closest("form").first())})),v=function(t){var e,n;if(m.call(t,n)>=0)return t.path;for(n=[],e=t.target;e!==document.body&&null!==e;)n.push(e),e=e.parentNode;return n},function(){var t;t=null,document.addEventListener("click",(function(e){var n,a,i,r,d,o,l,c,u,f,g,p,h,m,b,y,w;for(d=0,f=(h=v(e)).length;d<f;d++)if(i=h[d],s(i).is(".col-checkbox")&&t&&e.shiftKey){if(a=s(i).closest("tr"),n=(u=t.closest("tr")).closest("tbody").find("tr").toArray(),a.index()>u.index()?w=n.slice(u.index(),a.index()):a.index()<u.index()&&(w=n.slice(a.index()+1,u.index())),!w)return;for(l=0,g=w.length;l<g;l++)y=w[l],(o=s(y).find(".col-checkbox input[type=checkbox]")[0])&&(o.checked=!0,window.navigator.userAgent.indexOf("MSIE ")?(r=document.createEvent("Event")).initEvent("change",!0,!0):r=new Event("change",{bubbles:!0}),o.dispatchEvent(r))}for(b=[],c=0,p=(m=v(e)).length;c<p;c++)i=m[c],s(i).is(".col-checkbox")?b.push(t=s(i)):b.push(void 0);return b}))}(),document.addEventListener("change",(function(t){var e,n,a,i,r,d,o,s,l,c,u,f;if((r=t.target.getAttribute("data-check"))&&(n=document.querySelectorAll("input[data-check-all-"+r+"]:checked"),u=document.querySelector(".datagrid-"+r+' select[name="group_action[group_action]"]'),0===(e=document.querySelectorAll(".datagrid-"+r+' input[type="submit"]')).length&&(e=document.querySelectorAll(".datagrid-"+r+' button[type="submit"]')),a=document.querySelector(".datagrid-"+r+" .datagrid-selected-rows-count"),n.length?(e&&e.forEach((function(t){t.disabled=!1})),u&&(u.disabled=!1),f=document.querySelectorAll("input[data-check-all-"+r+"]").length,a&&(a.innerHTML=n.length+"/"+f)):(e&&e.forEach((function(t){t.disabled=!0})),u&&(u.disabled=!0,u.value=""),a&&(a.innerHTML="")),window.navigator.userAgent.indexOf("MSIE ")?(i=document.createEvent("Event")).initEvent("change",!0,!0):i=new Event("change",{bubbles:!0}),u&&u.dispatchEvent(i)),r=t.target.getAttribute("data-check-all")){for(c=[],d=0,l=(s=document.querySelectorAll("input[type=checkbox][data-check-all-"+r+"]")).length;d<l;d++)(o=s[d]).checked=t.target.checked,window.navigator.userAgent.indexOf("MSIE ")?(i=document.createEvent("Event")).initEvent("change",!0,!0):i=new Event("change",{bubbles:!0}),c.push(o.dispatchEvent(i));return c}})),window.datagridSerializeUrl=function(t,e){var n=[];for(var a in t)if(t.hasOwnProperty(a)){var i=e?e+"["+a+"]":a,r=t[a];if(null!==r&&""!==r)if("object"==typeof r){var d=window.datagridSerializeUrl(r,i);d&&n.push(d)}else n.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}return n.join("&")},p=function(){if(void 0!==s.fn.sortable)return s(".datagrid [data-sortable]").sortable({handle:".handle-sort",items:"tr",axis:"y",update:function(t,e){var n,a,r,d,o,l,c;return r=(l=e.item.closest("tr[data-id]")).data("id"),o=null,d=null,l.prev().length&&(o=l.prev().data("id")),l.next().length&&(d=l.next().data("id")),c=s(this).data("sortable-url"),(a={})[((n=l.closest(".datagrid").find("tbody").attr("data-sortable-parent-path"))+"-item_id").replace(/^-/,"")]=r,null!==o&&(a[(n+"-prev_id").replace(/^-/,"")]=o),null!==d&&(a[(n+"-next_id").replace(/^-/,"")]=d),i({type:"GET",url:c,data:a,error:function(t,e,n){return alert(t.statusText)}})},helper:function(t,e){return e.children().each((function(){return s(this).width(s(this).width())})),e}})},s((function(){return p()})),void 0===h&&(h=function(){if(void 0!==s(".datagrid-tree-item-children").sortable)return s(".datagrid-tree-item-children").sortable({handle:".handle-sort",items:".datagrid-tree-item:not(.datagrid-tree-header)",toleranceElement:"> .datagrid-tree-item-content",connectWith:".datagrid-tree-item-children",update:function(t,e){var n,a,r,d,o,l,c,u,f;if(s(".toggle-tree-to-delete").remove(),r=(u=e.item.closest(".datagrid-tree-item[data-id]")).data("id"),c=null,d=null,l=null,u.prev().length&&(c=u.prev().data("id")),u.next().length&&(d=u.next().data("id")),(o=u.parent().closest(".datagrid-tree-item")).length&&(o.find(".datagrid-tree-item-children").first().css({display:"block"}),o.addClass("has-children"),l=o.data("id")),f=s(this).data("sortable-url"))return o.find("[data-toggle-tree]").first().removeClass("hidden"),(a={})[((n=u.closest(".datagrid-tree").attr("data-sortable-parent-path"))+"-item_id").replace(/^-/,"")]=r,null!==c&&(a[(n+"-prev_id").replace(/^-/,"")]=c),null!==d&&(a[(n+"-next_id").replace(/^-/,"")]=d),a[(n+"-parent_id").replace(/^-/,"")]=l,i({type:"GET",url:f,data:a,error:function(t,e,n){if("abort"!==n)return alert(t.statusText)}})},stop:function(t,e){return s(".toggle-tree-to-delete").removeClass("toggle-tree-to-delete")},start:function(t,e){var n;if((n=e.item.parent().closest(".datagrid-tree-item")).length&&2===n.find(".datagrid-tree-item").length)return n.find("[data-toggle-tree]").addClass("toggle-tree-to-delete")}})}),s((function(){return h()})),a("datagrid.happy",{success:function(){var t,e,n,a,i,r,d,o,l,c,u;for(window.happy&&window.happy.reset(),u=[],r=0,l=(i=s(".datagrid")).length;r<l;r++){for(e="",o=0,c=(n=i[r].classList).length;o<c;o++)e=e+"."+n[o];1===(t=document.querySelectorAll(e+" input[data-check]:checked")).length&&"toggle-all"===t[0].getAttribute("name")&&(d=document.querySelector(e+" input[name=toggle-all]"))?(d.checked=!1,window.navigator.userAgent.indexOf("MSIE ")?(a=document.createEvent("Event")).initEvent("change",!0,!0):a=new Event("change",{bubbles:!0}),u.push(d.dispatchEvent(a))):u.push(void 0)}return u}}),a("datagrid.sortable",{success:function(){return p()}}),a("datagrid.forms",{success:function(){return s(".datagrid").find("form").each((function(){return window.Nette.initForm(this)}))}}),a("datagrid.url",{success:function(t){var e,n,a,i;if(t._datagrid_url&&window.history.replaceState&&(e=window.location.protocol+"//"+window.location.host,n=window.location.pathname,i=(a=window.datagridSerializeUrl(t.state).replace(/&+$/gm,""))?e+n+"?"+a.replace(/\&*$/,""):e+n,i+=window.location.hash,window.location.href!==i))return window.history.replaceState({path:i},"",i)}}),a("datagrid.sort",{success:function(t){var e,n,a,i;if(t._datagrid_sort){for(n in i=[],a=t._datagrid_sort)e=a[n],i.push(s("#datagrid-sort-"+n).attr("href",e));return i}}}),a("datargid.item_detail",{before:function(t,e){var n,a,i;return!e.nette||!e.nette.el.attr("data-toggle-detail")||(n=e.nette.el.attr("data-toggle-detail"),i=e.nette.el.attr("data-toggle-detail-grid-fullname"),(a=s(".item-detail-"+i+"-id-"+n)).hasClass("loaded")?a.find(".item-detail-content").length?(a.hasClass("toggled")?a.find(".item-detail-content").slideToggle("fast",(function(){return a.toggleClass("toggled")})):(a.toggleClass("toggled"),a.find(".item-detail-content").slideToggle("fast")),!1):(a.removeClass("toggled"),!0):a.addClass("loaded"))},success:function(t){var e,n,a;if(t._datagrid_toggle_detail&&t._datagrid_name)return e=t._datagrid_toggle_detail,a=t._datagrid_name,(n=s(".item-detail-"+a+"-id-"+e)).toggleClass("toggled"),n.find(".item-detail-content").slideToggle("fast")}}),a("datagrid.tree",{before:function(t,e){var n;return!(e.nette&&e.nette.el.attr("data-toggle-tree")&&(e.nette.el.toggleClass("toggle-rotate"),(n=e.nette.el.closest(".datagrid-tree-item").find(".datagrid-tree-item-children").first()).hasClass("loaded")))||(n.slideToggle("fast"),!1)},success:function(t){var e,n,a,i,d,o,l;if(t._datagrid_tree){for(i in a=t._datagrid_tree,(e=s('.datagrid-tree-item[data-id="'+a+'"]').find(".datagrid-tree-item-children").first()).addClass("loaded"),d=t.snippets)o=d[i],n=s(o),(l=s('<div class="datagrid-tree-item" id="'+i+'">')).attr("data-id",n.attr("data-id")),l.append(n),n.data("has-children")&&l.addClass("has-children"),e.append(l);e.addClass("loaded"),e.slideToggle("fast"),r()}return h()}}),s(document).on("click","[data-datagrid-editable-url]",(function(t){var e,n,a,r,d,o,l,c,u,f;if(r=s(this),"a"!==t.target.tagName.toLowerCase()&&!r.hasClass("datagrid-inline-edit")&&!r.hasClass("editing")){for(e in r.addClass("editing"),d=r.html().trim().replace("<br>","\n"),f=r.attr("data-datagrid-editable-value")?r.data("datagrid-editable-value"):d,r.data("originalValue",d),r.data("valueToEdit",f),"textarea"===r.data("datagrid-editable-type")?(c=s("<textarea>"+f+"</textarea>"),l=parseInt(r.css("padding").replace(/[^-\d\.]/g,""),10),o=(r.outerHeight()-2*l)/Math.round(parseFloat(r.css("line-height"))),c.attr("rows",Math.round(o))):"select"===r.data("datagrid-editable-type")?(c=s(r.data("datagrid-editable-element"))).find("option[value='"+f+"']").prop("selected",!0):(c=s('<input type="'+r.data("datagrid-editable-type")+'">')).val(f),a=r.data("datagrid-editable-attrs"))n=a[e],c.attr(e,n);return r.removeClass("edited"),r.html(c),u=function(t,e){var n;return(n=e.val())!==t.data("valueToEdit")?i({url:t.data("datagrid-editable-url"),data:{value:n},type:"POST",success:function(e){return"select"===t.data("datagrid-editable-type")?t.html(c.find("option[value='"+n+"']").html()):(e._datagrid_editable_new_value&&(n=e._datagrid_editable_new_value),t.html(n)),t.addClass("edited")},error:function(){return t.html(t.data("originalValue")),t.addClass("edited-error")}}):t.html(t.data("originalValue")),setTimeout((function(){return t.removeClass("editing")}),1200)},r.find("input,textarea,select").focus().on("blur",(function(){return u(r,s(this))})).on("keydown",(function(t){return"textarea"!==r.data("datagrid-editable-type")&&13===t.which?(t.stopPropagation(),t.preventDefault(),u(r,s(this))):27===t.which?(t.stopPropagation(),t.preventDefault(),r.removeClass("editing"),r.html(r.data("originalValue"))):void 0})),r.find("select").on("change",(function(){return u(r,s(this))}))}})),a("datagrid.after_inline_edit",{success:function(t){var e=s(".datagrid-"+t._datagrid_name);return t._datagrid_inline_edited?(e.find("tr[data-id="+t._datagrid_inline_edited+"] > td").addClass("edited"),e.find(".datagrid-inline-edit-trigger").removeClass("hidden")):t._datagrid_inline_edit_cancel?e.find(".datagrid-inline-edit-trigger").removeClass("hidden"):void 0}}),s(document).on("mouseup","[data-datagrid-cancel-inline-add]",(function(t){if(1===(t.which||t.keyCode||0))return t.stopPropagation(),t.preventDefault(),s(".datagrid-row-inline-add").addClass("datagrid-row-inline-add-hidden")})),a("datagrid-toggle-inline-add",{success:function(t){var e=s(".datagrid-"+t._datagrid_name);if(t._datagrid_inline_adding){var n=e.find(".datagrid-row-inline-add");n.hasClass("datagrid-row-inline-add-hidden")&&n.removeClass("datagrid-row-inline-add-hidden"),n.find("input:not([readonly]),textarea:not([readonly])").first().focus()}}}),f=function(){var t=s(".selectpicker").first();if(s.fn.selectpicker)return s.fn.selectpicker.defaults={countSelectedText:t.data("i18n-selected"),iconBase:"",tickIcon:t.data("selected-icon-check")}},s((function(){return f()})),g=function(){if(s.fn.selectpicker)return s("[data-datagrid-multiselect-id]").each((function(){var t;if(s(this).hasClass("selectpicker"))return s(this).removeAttr("id"),t=s(this).data("datagrid-multiselect-id"),s(this).on("loaded.bs.select",(function(t){return s(this).parent().attr("style","display:none;"),s(this).parent().find(".hidden").removeClass("hidden").addClass("btn-default btn-secondary")})),s(this).on("rendered.bs.select",(function(e){return s(this).parent().attr("id",t)}))}))},s((function(){return g()})),a("datagrid.fitlerMultiSelect",{success:function(){if(f(),s.fn.selectpicker)return s(".selectpicker").selectpicker({iconBase:"fa"})}}),a("datagrid.groupActionMultiSelect",{success:function(){return g()}}),a("datagrid.inline-editing",{success:function(t){if(t._datagrid_inline_editing)return s(".datagrid-"+t._datagrid_name).find(".datagrid-inline-edit-trigger").addClass("hidden")}}),a("datagrid.redraw-item",{success:function(t){if(t._datagrid_redraw_item_class)return s("tr[data-id="+t._datagrid_redraw_item_id+"]").attr("class",t._datagrid_redraw_item_class)}}),a("datagrid.reset-filter-by-column",{success:function(t){var e,n,a,i,r,d;if(t._datagrid_name&&((e=s(".datagrid-"+t._datagrid_name)).find("[data-datagrid-reset-filter-by-column]").addClass("hidden"),t.non_empty_filters&&t.non_empty_filters.length)){for(a=0,r=(d=t.non_empty_filters).length;a<r;a++)i=d[a],e.find("[data-datagrid-reset-filter-by-column="+i+"]").removeClass("hidden");return n=e.find(".reset-filter").attr("href"),e.find("[data-datagrid-reset-filter-by-column]").each((function(){var e;return i=s(this).attr("data-datagrid-reset-filter-by-column"),e=n.replace("do="+t._datagrid_name+"-resetFilter","do="+t._datagrid_name+"-resetColumnFilter"),e+="&"+t._datagrid_name+"-key="+i,s(this).attr("href",e)}))}}})}},t=>{t.O(0,[615,437,725],(()=>{return e=2425,t(t.s=e);var e}));t.O()}]);